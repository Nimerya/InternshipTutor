<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Affiliated Companies</title>
    <!-- head -->
    <meta th:replace="fragments/head :: head">
    <!-- head -->
    <!-- head_scripts -->
    <meta th:replace="fragments/head_scripts :: head_scripts">
    <!-- head_scripts -->
</head>
<body>


<!-- header -->
<div th:replace="fragments/header :: header"></div>
<!-- header -->

<div class="codes about">
    <div class="container">
        <div id="forms" class="grid_3 grid_4">
            <div class="row padding-top-30">
                <div class="col-md-12">
                    <h3 class="w3ls-hdg">Affiliated Companies List</h3>
                    <div th:if="${!affiliatedCompanies.isEmpty()}">
                        <table class="table table-fixed table-bordered hover-effect">
                            <thead>
                            <tr>
                                <th class="col-md-1 hidden-sm hidden-xs text-center">#</th>
                                <th class="col-xs-9 col-md-8">Company</th>
                                <th class="col-xs-3 text-center">Rating <span class="hidden-xs hidden-sm"></span></th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr th:each="item, iterationStatus : ${affiliatedCompanies}">
                                <td th:text="${iterationStatus.count + (page.getSize() * (page.getNumber()-1))}" class="col-md-1 hidden-sm hidden-xs no-border-right text-center">
                                </td>
                                <td th:text="${item.getName()}" class="col-xs-9 col-md-8 no-border-right">
                                </td>
                                <td class="col-xs-3 text-center">
                                    <span th:if="${!(averages.get(item.getId()) == null)}" class="badge badge-custom" th:text="${averages.get(item.getId())}">999</span>
                                    <span th:unless="${!(averages.get(item.getId()) == null)}" class="badge badge-custom">0</span>
                                </td>
                            </tr>

                            </tbody>
                        </table>

                    </div>

                    <!-- pagination -->
                    <th:block th:if="${!affiliatedCompanies.isEmpty()}">
                        <th:block th:replace="fragments/pagination_bar :: pagination_bar(${page})">
                            will be replaced
                        </th:block>
                    </th:block>


                    <div class="well" th:unless="${!affiliatedCompanies.isEmpty()}" th:text="${'There are no active companies yet!'}">
                        Empty report message
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>


<!-- footer -->
<div th:replace="fragments/footer"></div>
<!-- footer -->
<!-- footer_scripts -->
<div th:replace="fragments/footer_scripts"></div>
<!-- footer_scripts -->

</body>
</html>